"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.request = void 0;
var config_1 = require("./config");
console.log(config_1.HTTP_STATUS);
exports.request = function (params) {
    return new Promise(function (resolve, reject) {
        var method = params.method, url = params.url, data = params.data, header = params.header;
        console.log(method, url, data, header);
        var defaultHeader = {
            'content-type': config_1.CONTENT_TYPE
        };
        wx.request({
            method: method,
            url: /^http(s?):\/\//.test(url) ? url : config_1.DOMAIN + url,
            data: data,
            header: Object.assign(defaultHeader, header),
            timeout: config_1.TIMEOUT,
            success: function (res) {
                resolve(res.data);
            },
            fail: function (err) {
                reject(err);
            }
        });
    });
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVxdWVzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInJlcXVlc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsbUNBQXFFO0FBQ3JFLE9BQU8sQ0FBQyxHQUFHLENBQUMsb0JBQVcsQ0FBQyxDQUFBO0FBRVgsUUFBQSxPQUFPLEdBQUcsVUFBQyxNQUFzRztJQUM1SCxPQUFPLElBQUksT0FBTyxDQUFNLFVBQUMsT0FBTyxFQUFDLE1BQU07UUFFaEMsSUFBQSxNQUFNLEdBQW9CLE1BQU0sT0FBMUIsRUFBQyxHQUFHLEdBQWdCLE1BQU0sSUFBdEIsRUFBQyxJQUFJLEdBQVcsTUFBTSxLQUFqQixFQUFDLE1BQU0sR0FBSSxNQUFNLE9BQVYsQ0FBVztRQUN0QyxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBQyxHQUFHLEVBQUMsSUFBSSxFQUFDLE1BQU0sQ0FBQyxDQUFBO1FBQ25DLElBQUksYUFBYSxHQUFHO1lBQ2xCLGNBQWMsRUFBRSxxQkFBWTtTQUM3QixDQUFBO1FBQ0QsRUFBRSxDQUFDLE9BQU8sQ0FBQztZQUNULE1BQU0sUUFBQTtZQUNOLEdBQUcsRUFBRSxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsZUFBTSxHQUFHLEdBQUc7WUFDcEQsSUFBSSxNQUFBO1lBQ0osTUFBTSxFQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsYUFBYSxFQUFFLE1BQU0sQ0FBQztZQUMzQyxPQUFPLEVBQUMsZ0JBQU87WUFDZixPQUFPLFlBQUUsR0FBRztnQkFDVixPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3BCLENBQUM7WUFDRCxJQUFJLFlBQUMsR0FBRztnQkFDTixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDZCxDQUFDO1NBQ0YsQ0FBQyxDQUFBO0lBQ0osQ0FBQyxDQUFDLENBQUE7QUFDSixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBET01BSU4sVElNRU9VVCwgQ09OVEVOVF9UWVBFLCBIVFRQX1NUQVRVUyB9IGZyb20gXCIuL2NvbmZpZ1wiO1xyXG5jb25zb2xlLmxvZyhIVFRQX1NUQVRVUylcclxuLy8gbWV0aG9kOiBrZXlvZiByZXF1ZXN0TWV0aG9kLHVybDpzdHJpbmcsIGRhdGE6c3RyaW5nfG9iamVjdHxBcnJheUJ1ZmZlcix1c2VySGVhZGVyOm9iamVjdFxyXG5leHBvcnQgY29uc3QgcmVxdWVzdCA9IChwYXJhbXM6IHsgbWV0aG9kOiBrZXlvZiByZXF1ZXN0TWV0aG9kOyB1cmw6IHN0cmluZzsgZGF0YTogc3RyaW5nfG9iamVjdHxBcnJheUJ1ZmZlcjsgaGVhZGVyOiBvYmplY3Q7IH0pPT57XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlPGFueT4oKHJlc29sdmUscmVqZWN0KT0+e1xyXG4gICAgLy9yZXF1ZXN05pu05aSa6YWN572u5Y+C6ICD5paH5qGjIGh0dHBzOi8vZGV2ZWxvcGVycy53ZWl4aW4ucXEuY29tL21pbmlwcm9ncmFtL2Rldi9hcGkvbmV0d29yay9yZXF1ZXN0L3d4LnJlcXVlc3QuaHRtbFxyXG4gICAgbGV0IHttZXRob2QsdXJsLGRhdGEsaGVhZGVyfSA9IHBhcmFtcztcclxuICAgIGNvbnNvbGUubG9nKG1ldGhvZCx1cmwsZGF0YSxoZWFkZXIpXHJcbiAgICBsZXQgZGVmYXVsdEhlYWRlciA9IHtcclxuICAgICAgJ2NvbnRlbnQtdHlwZSc6IENPTlRFTlRfVFlQRSAvLyDpu5jorqTlgLxcclxuICAgIH1cclxuICAgIHd4LnJlcXVlc3Qoe1xyXG4gICAgICBtZXRob2QsXHJcbiAgICAgIHVybDogL15odHRwKHM/KTpcXC9cXC8vLnRlc3QodXJsKSA/IHVybCA6IERPTUFJTiArIHVybCxcclxuICAgICAgZGF0YSxcclxuICAgICAgaGVhZGVyOk9iamVjdC5hc3NpZ24oZGVmYXVsdEhlYWRlciwgaGVhZGVyKSxcclxuICAgICAgdGltZW91dDpUSU1FT1VULFxyXG4gICAgICBzdWNjZXNzIChyZXMpIHtcclxuICAgICAgICByZXNvbHZlKHJlcy5kYXRhKTtcclxuICAgICAgfSxcclxuICAgICAgZmFpbChlcnIpe1xyXG4gICAgICAgIHJlamVjdChlcnIpO1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH0pXHJcbn0iXX0=